<!-- header.html -->
<header>
  <div class="top-bar">
    <div class="container">
      <div class="top-bar-links">
        <a href="#"><i class="fa-regular fa-circle-check"></i> No-returns</a>
        <a href="#"><i class="fa-regular fa-clock"></i> worldwide express</a>
        <a href="#"><i class="fa-regular fa-gem"></i> premium suppliers</a>
      </div>
      <div class="trust-badge">
        <i class="fa-solid fa-star"></i> <span>4.8 trustpilot Â· 12k+ reviews</span>
      </div>
    </div>
  </div>

  <div class="main-header">
    <div class="container">
      <a href="index.html" class="logo">MyEssantia<span>.</span></a>
      <div class="header-icons">
        <a href="#"><i class="fa-solid fa-magnifying-glass"></i></a>
        <a href="#" aria-label="Profile"><i class="fa-regular fa-user"></i></a>
        <a href="#" style="position: relative;">
          <i class="fa-solid fa-bag-shopping"></i>
          <span class="cart-count">3</span>
        </a>
      </div>
      <ul class="nav-menu">
        <li class="nav-item"><a href="index.html">Home</a></li>
        <li class="nav-item"><a href="accessories.html">Accessories</a></li>
        <li class="nav-item"><a href="essentials.html">Essentials</a></li>
        <li class="nav-item"><a href="new.html">New-in</a></li>
        <li class="nav-item"><a href="myorders.html">My Orders</a></li>
        <li class="nav-item"><a href="enquire.html">Enquire</a></li>
      </ul>
    </div>
  </div>
</header>

<!-- Add these before closing body tag -->
<script type="module">
  // Import auth functions
  import { 
    showAuthModal, 
    hideAuthModal, 
    switchAuthTab, 
    loginWithEmail, 
    signupWithEmail, 
    signInWithGoogle, 
    logout,
    initAuthModal
  } from './auth-modal.js';
  
  // Make functions available globally
  window.showAuthModal = showAuthModal;
  window.hideAuthModal = hideAuthModal;
  window.switchAuthTab = switchAuthTab;
  window.handleLogin = async () => {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    await loginWithEmail(email, password);
  };
  window.handleSignup = async () => {
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('signupConfirmPassword').value;
    
    if (password !== confirmPassword) {
      alert('Passwords do not match!');
      return;
    }
    
    await signupWithEmail(email, password);
  };
  window.handleGoogleSignIn = async () => {
    await signInWithGoogle();
  };
  window.handleLogout = async () => {
    await logout();
  };
  
  // Load auth modal HTML
  fetch('auth-modal.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('authModalContainer').innerHTML = data;
      initAuthModal();
    });
</script>

<!-- Auth Modal Container -->
<div id="authModalContainer"></div>
